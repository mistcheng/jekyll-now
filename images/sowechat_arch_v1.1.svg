<svg height="322" width="1169" viewBox="102 57 1169 322" style="background-color:transparent;" preserveAspectRatio="xMinYMin meet" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css">.svg-txt-center tspan {text-anchor: middle;}.svg-txt-right tspan {text-anchor: end;}</style></defs><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,214,139)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m2.866307304016864,0.04480215383113688l181.93981045816705,0.9952318826998984l-4.0858148544969835,35.90054565746897l-180.49783782125988,-0.14206604854604687z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="163" x="306">Sample: Php CLI WechatSend</text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,714,294)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m2.742358880059378,0.04359128480867372l174.07214297889496,0.9683337237080091l-3.909130968897114,34.93026063969953l-172.69252591547567,-0.13822642561236992z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="318" x="802">ProcessWechatMessage</text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,1020,138)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m3.6564785067458376,0.04601302285360004l232.09619063852662,1.0221300416917873l-5.212174625196152,36.870830675238395l-230.25670122063423,-0.1459056714797238z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="162" x="1138">Samle: SaveWechatMessageToDB</text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,610,280)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m0.16208820752380368,13.415476976110162l0,42.27440187942714c0,0 12.191901896237098,13.319694678966432 30.071805645829926,12.16104319503781c17.879902588743665,-1.1584860568178388 27.22637513341009,-10.423396823366444 27.22637513341009,-10.423396823366444l0,-42.27440187942714"/><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m30.232259377734813,0.6754388933296067c34.821812355738224,4.37885562244298 39.01155263074939,23.164592895922482 0,24.322582671407968c-39.01114401184467,1.1591477652609734 -41.44862542950168,-29.53370208820345 0,-24.322582671407968z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="svg-txt-center" y="327" x="639">Queue</text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,919,204)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m0.16208820752380368,13.415476976110162l0,42.27440187942714c0,0 12.191901896237098,13.319694678966432 30.071805645829926,12.16104319503781c17.879902588743665,-1.1584860568178388 27.22637513341009,-10.423396823366444 27.22637513341009,-10.423396823366444l0,-42.27440187942714"/><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m30.232259377734813,0.6754388933296067c34.821812355738224,4.37885562244298 39.01155263074939,23.164592895922482 0,24.322582671407968c-39.01114401184467,1.1591477652609734 -41.44862542950168,-29.53370208820345 0,-24.322582671407968z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="svg-txt-center" y="251" x="948">Queue</text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,1021,291)"><path style="fill:none;stroke:rgb(255,0,0);stroke-width:3.0;;" d="m3.2846332348733793,0.08839343863981061l208.49318820071034,1.9635656064079077l-4.682122968396543,70.83080629716851l-206.84076550328157,-0.28029247415841685z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #ff0000;" class="" y="315" x="1127">Your Code Here?</text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,193,291)"><path style="fill:none;stroke:rgb(255,0,0);stroke-width:3.0;;" d="m2.959268621984979,0.08718256961734744l187.8405610676211,1.9366674474160182l-4.218327768696886,69.86052127939907l-186.35182175059805,-0.27645285122473984z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #ff0000;" class="" y="315" x="288">Your Code Here?</text></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M401,157 C423,157 445,186  445,215"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="434,198 445,215 454,197"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="196" x="447"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="175" x="431"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="159" x="421"/></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M386,327 C415.5,327 445,294  445,261"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="454,278 445,261 434,277"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="262" x="423"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="306" x="426"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="307" x="383"/></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M571,193 C537.5,193 537.5,238  504,238"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="520,226 504,238 521,246"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="241" x="523"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="215" x="537"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="212" x="568"/></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M646,214 C646,245 639,245  639,276"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="629,258 639,276 649,258"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="263" x="654"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="245" x="642"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="228" x="659"/></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M712,312 C692,312 692,314  672,314"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="689,303 672,314 689,323"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="327" x="685"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="313" x="692"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="326" x="699"/></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M893,319 C893,319 914.5048224136101,317.768570205878 923,312 935.0865690689137,303.79272928515064 948,276 948,276"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="949,295 948,276 931,287"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="279" x="927"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="300" x="923"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="301" x="902"/></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M1018,157 C983,157 948,178.5  948,200"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="939,181 948,200 959,183"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="205" x="969"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="170" x="969"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="176" x="1015"/></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M1019,327 C1019,327 1008.8349969494475,299.7738680747036 1002,287 995.9807669502119,275.7507061879371 981,255 981,255"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="999,263 981,255 983,274"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="275" x="976"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="275" x="1002"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="320" x="1000"/></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="13" width="66" y="164" x="402"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="164" x="402"><tspan alignment-baseline="before-edge" x="402">restore state</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="13" width="66" y="294" x="396"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="294" x="396"><tspan alignment-baseline="before-edge" x="396">restore state</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="13" width="54" y="199" x="510"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="199" x="510"><tspan alignment-baseline="before-edge" x="510">save state</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="13" width="150" y="232" x="565"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="232" x="565"><tspan alignment-baseline="before-edge" x="565">push raw message in queue</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="13" width="58" y="300" x="898"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="300" x="898"><tspan alignment-baseline="before-edge" x="898">push event</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="13" width="52" y="152" x="949"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="152" x="949"><tspan alignment-baseline="before-edge" x="949">pop event</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="13" width="52" y="271" x="989"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="271" x="989"><tspan alignment-baseline="before-edge" x="989">pop event</tspan></text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,390,219)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m23.363689800000003,3.1236c22.395780000000002,-5.9157944 75.10514,-3.4079464 84.42522000000001,8.7125336c9.319552,12.1206624 -14.254504000000003,25.376704 -41.116240000000005,26.892751999999998c-26.86288,1.51480464 -55.461780000000005,-1.5597024 -64.14166,-14.0149168c-7.125888000000001,-10.2271528 2.1942316,-16.6668 20.832790000000003,-21.590384z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="svg-txt-center" y="243" x="445">Login State</text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,573,175)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m2.2620587372241197,0.04480215383113688l143.58493149671563,0.9952318826998984l-3.2244809121976195,35.90054565746897l-142.44694228056184,-0.14206604854604687z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="199" x="646">Wechat WebApi</text><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="216" x="646"/></g><g transform="translate(0,0)"><rect style="fill: #000000;fill-opacity: 0;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="119" width="100" y="174" x="238"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #3399ff;" class="" y="195" x="238"><tspan x="238">getContact()</tspan><tspan dy="17" x="238">sendMessage()</tspan><tspan dy="17" x="238">sendImage()</tspan><tspan dy="17" x="238">sendEmotion()</tspan><tspan dy="17" x="238">sendFile()</tspan><tspan dy="17" x="238">...</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #000000;fill-opacity: 0;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="51" width="191" y="313" x="206"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #330000;" class="" y="334" x="206"><tspan x="206">You can send wechat message</tspan><tspan dy="17" x="206">to any friends as you wish !</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #000000;fill-opacity: 0;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="51" width="175" y="313" x="1051"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #330000;" class="" y="334" x="1051"><tspan x="1051">You can process the wechat </tspan><tspan dy="17" x="1051">message as you wish !</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #000000;fill-opacity: 0;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="51" width="180" y="247" x="733"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #3399ff;" class="" y="268" x="733"><tspan x="733">parse &amp; format message</tspan><tspan dy="17" x="733">fire event to subscribers</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #000000;fill-opacity: 0;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="68" width="176" y="109" x="577"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #3399ff;" class="" y="130" x="577"><tspan x="577">qrcode login</tspan><tspan dy="17" x="577">listen new message</tspan><tspan dy="17" x="577">push raw message in queue</tspan></text></g><g transform="translate(0,0)"><rect style="fill: #000000;fill-opacity: 0;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="34" width="230" y="107" x="1026"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #3399ff;" class="" y="128" x="1026"><tspan x="1026">save formated wechat message to DB </tspan></text></g><g transform="translate(0,0)"><g transform="matrix(1,0,0,1,214,67)"><path style="fill:none;stroke:#333333;stroke-width:3.0;;" d="m2.866307304016864,0.04480215383113688l181.93981045816705,0.9952318826998984l-4.0858148544969835,35.90054565746897l-180.49783782125988,-0.14206604854604687z"/></g><text style="font-weight:bold; font-size: 12px; text-anchor: middle; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="91" x="306">Server: Web Api</text></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M401,90 C401,90 455.4874613003191,102.30533250977996 468,124 483.1778209058155,150.31582492417593 463,215 463,215"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="458,195 463,215 477,201"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="201" x="477"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="112" x="468"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="82" x="419"/></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="14" width="66" y="80" x="429"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="80" x="429"><tspan alignment-baseline="before-edge" x="429">restore state</tspan></text></g><g transform="translate(0,0)"><path style="fill:none;stroke:#333333;stroke-width:2;;" d="M191,327 C117,327 136,85  210,85"/><polyline style="fill:#ffffff;stroke:#333333;stroke-width:2;fill-opacity:0;" points="194,97 210,85 191,77"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="99" x="196"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: sans-serif; fill: #333333;" class="" y="206" x="145"/><text style="font-weight:Normal; font-size: 12px; text-anchor: middle; font-family: sans-serif; fill: #333333;" class="" y="312" x="177"/></g><g transform="translate(0,0)"><rect style="fill: #ffffff;fill-opacity: 1;stroke-opacity:0;stroke-width: 1;stroke:%stroke%;" rx="4" height="14" width="62" y="188" x="124"/><text style="font-weight:Normal; font-size: 12px; text-anchor: start; font-family: arial,helvetica,sans-serif; fill: #333333;" class="" y="188" x="124"><tspan alignment-baseline="before-edge" x="124">call web api</tspan></text></g><text style="font-weight:Normal; font-size: 16px; text-anchor: end; font-family: Arial; fill: #ccc;" y="364" x="1256">www.sketchboard.io</text></svg>